# see: https://docs.floydhub.com/floyd_config
# All supported configs:
#

env: pytorch-0.4

# You can also define multiple tasks to use with --task argument:
#
task:
  train:
    machine: gpu
    input:
    - destination: Data
      source: jdavid04/datasets/kaggledata/1
    command: python kaggle_model/train.py /Data/train_rois4.npy /Data/train_labels.csv -v -s Model\ outputs/ lr00005nr -p Predictions/valid_lr00005nr.csv

  evaluate:
    machine: cpu
    #input:
    #- destination: Out
     # source: jdavid04/projects/kaggle-udem/30
    command: python kaggle_model/analysis.py /Out/Model\ outputs/model_history_lr00005nr.json /Out/Model\ outputs/encoding_lr00005nr.pkl /Out/Predictions/valid_lr00005nr.csv Analysis/ lr00005nr

  predict:
    machine: gpu
    input:
    - destination: Data
      source: jdavid04/datasets/kaggledata/1
    command: python kaggle_model/predict.py /Data/test_rois4.npy /Out/Model\ outputs/encoding_lr00005nr.pkl /Out/Model\ outputs/model_lr00005nr.pkl Predictions/submissionlr00005nr.csv